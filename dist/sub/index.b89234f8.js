var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire87e6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequire87e6=n),n("hlpVk");var i=n("hEh8e");function r(e,t,o){(0,i.Member).call(this,e),this.buttonArea=t,this.remoteMediaArea=o}r.prototype=Object.create(i.Member.prototype),r.prototype.constructor=r,Object.assign(r.prototype,{subscribeAndAttach:function(e){if(console.log(e.publisher.id),console.log(this.myInfo),e.publisher.id===this.myInfo.id)return;let t=document.createElement("button");t.textContent=`${e.publisher.id}: ${e.contentType}`,this.buttonArea.appendChild(t),t.onclick=async()=>{let t;let{stream:o}=await this.myInfo.subscribe(e.id);switch(o.track.kind){case"video":t=document.getElementById("video");break;case"audio":(t=document.createElement("audio")).controls=!0,t.autoplay=!0;break;default:return}o.attach(t),this.remoteMediaArea.appendChild(t)}}});const a=document.getElementById("my-id");document.getElementById("list-button");const d=document.getElementById("button-area"),c=document.getElementById("remote-media-area");(async()=>{let e=new URLSearchParams(window.location.search),t=new r(e.get("room"),d,c);await t.initMyContext(e.get("key")),e.get("id"),a.textContent=t.myInfo.id,t.myRoom.publications.forEach(e=>{t.subscribeAndAttach(e)})})();
//# sourceMappingURL=index.b89234f8.js.map
